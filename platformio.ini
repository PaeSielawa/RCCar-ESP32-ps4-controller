[platformio]
default_envs = esp32dev

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino
upload_port = COM3
upload_speed = 57600  # Zmniejszona prędkość dla CH340
monitor_dtr = 1
monitor_rts = 1
monitor_port = COM3  
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

# Ustawienia resetowania dla CH340
upload_resetmethod = ck

# Ustawienia dla ESP32-WROOM-32
board_build.flash_mode = dio
board_build.partitions = huge_app.csv
board_build.f_cpu = 240000000L
board_build.flash_size = 4MB

lib_deps =
    madhephaestus/ESP32Servo @ ^0.13.0
    https://github.com/aed3/PS4-esp32.git

build_unflags =
    -std=gnu++11

build_flags =
    -DCORE_DEBUG_LEVEL=5
    -std=gnu++17

upload_flags = 
    --before=default_reset
    --after=hard_reset

